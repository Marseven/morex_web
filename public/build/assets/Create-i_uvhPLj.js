import{u as S,o as s,c as d,a as u,b as o,h as N,w as b,d as t,l as k,e as U,i as c,f as i,v as m,t as a,F as p,r as y,g as f,m as g,k as D,I as w}from"./app-CheDFxkZ.js";import{_ as A}from"./AppLayout-6RU6_C7i.js";const B={class:"max-w-xl mx-auto"},E={class:"flex items-center gap-4 mb-6"},F={class:"flex gap-1 p-1 bg-theme-card border border-theme-border rounded-md"},M={class:"bg-theme-card border border-theme-border rounded-lg p-4 space-y-4"},q={class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},T=["value"],$={key:0},I=["value"],O={key:1},j=["value"],z={key:2},L={class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},R=["placeholder"],G={class:"flex gap-3"},H=["disabled"],P={__name:"Create",props:{accounts:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]}},setup(h){var v;const x=h,r=S({amount:"",type:"expense",category_id:"",account_id:((v=x.accounts[0])==null?void 0:v.id)||"",beneficiary:"",description:"",date:new Date().toISOString().split("T")[0],transfer_to_account_id:""}),_=w(()=>x.categories.filter(l=>r.type==="expense"&&l.type==="expense"||r.type==="income"&&l.type==="income")),C=w(()=>x.accounts.filter(l=>l.id!==r.account_id)),V=()=>{r.post("/transactions")};return(l,e)=>(s(),d(p,null,[u(o(N),{title:"Nouvelle transaction"}),u(A,null,{default:b(()=>[t("div",B,[t("div",E,[u(o(k),{href:"/transactions",class:"text-theme-text-secondary hover:text-theme-text-primary"},{default:b(()=>[...e[10]||(e[10]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),e[11]||(e[11]=t("h1",{class:"text-lg font-semibold text-theme-text-primary"},"Nouvelle transaction",-1))]),t("form",{onSubmit:U(V,["prevent"]),class:"space-y-6"},[t("div",F,[t("button",{type:"button",onClick:e[0]||(e[0]=n=>o(r).type="expense"),class:c(["flex-1 py-2 text-sm rounded transition-colors",o(r).type==="expense"?"bg-theme-btn-primary-bg text-theme-btn-primary-text font-medium":"text-theme-text-secondary"])}," Dépense ",2),t("button",{type:"button",onClick:e[1]||(e[1]=n=>o(r).type="income"),class:c(["flex-1 py-2 text-sm rounded transition-colors",o(r).type==="income"?"bg-theme-btn-primary-bg text-theme-btn-primary-text font-medium":"text-theme-text-secondary"])}," Revenu ",2),t("button",{type:"button",onClick:e[2]||(e[2]=n=>o(r).type="transfer"),class:c(["flex-1 py-2 text-sm rounded transition-colors",o(r).type==="transfer"?"bg-theme-btn-primary-bg text-theme-btn-primary-text font-medium":"text-theme-text-secondary"])}," Transfert ",2)]),t("div",M,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Montant (FCFA)",-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>o(r).amount=n),type:"number",required:"",min:"1",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-3 text-xl font-semibold text-theme-text-primary focus:border-white focus:ring-0 outline-none",placeholder:"0"},null,512),[[m,o(r).amount,void 0,{number:!0}]])]),t("div",null,[t("label",q,a(o(r).type==="transfer"?"Depuis":"Compte"),1),i(t("select",{"onUpdate:modelValue":e[4]||(e[4]=n=>o(r).account_id=n),required:"",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-white focus:ring-0 outline-none"},[e[13]||(e[13]=t("option",{value:"",disabled:""},"Sélectionner",-1)),(s(!0),d(p,null,y(h.accounts,n=>(s(),d("option",{key:n.id,value:n.id},a(n.name),9,T))),128))],512),[[f,o(r).account_id]])]),o(r).type==="transfer"?(s(),d("div",$,[e[15]||(e[15]=t("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Vers",-1)),i(t("select",{"onUpdate:modelValue":e[5]||(e[5]=n=>o(r).transfer_to_account_id=n),required:"",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-white focus:ring-0 outline-none"},[e[14]||(e[14]=t("option",{value:"",disabled:""},"Sélectionner",-1)),(s(!0),d(p,null,y(C.value,n=>(s(),d("option",{key:n.id,value:n.id},a(n.name),9,I))),128))],512),[[f,o(r).transfer_to_account_id]])])):g("",!0),o(r).type!=="transfer"?(s(),d("div",O,[e[17]||(e[17]=t("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Catégorie",-1)),i(t("select",{"onUpdate:modelValue":e[6]||(e[6]=n=>o(r).category_id=n),class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-white focus:ring-0 outline-none"},[e[16]||(e[16]=t("option",{value:""},"Sans catégorie",-1)),(s(!0),d(p,null,y(_.value,n=>(s(),d("option",{key:n.id,value:n.id},a(n.name),9,j))),128))],512),[[f,o(r).category_id]])])):g("",!0),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Date",-1)),i(t("input",{"onUpdate:modelValue":e[7]||(e[7]=n=>o(r).date=n),type:"date",required:"",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-white focus:ring-0 outline-none"},null,512),[[m,o(r).date]])]),o(r).type!=="transfer"?(s(),d("div",z,[t("label",L,a(o(r).type==="expense"?"Bénéficiaire":"Source"),1),i(t("input",{"onUpdate:modelValue":e[8]||(e[8]=n=>o(r).beneficiary=n),type:"text",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-white focus:ring-0 outline-none",placeholder:o(r).type==="expense"?"Ex: Carrefour":"Ex: Employeur"},null,8,R),[[m,o(r).beneficiary]])])):g("",!0),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Note",-1)),i(t("input",{"onUpdate:modelValue":e[9]||(e[9]=n=>o(r).description=n),type:"text",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-white focus:ring-0 outline-none",placeholder:"Optionnel"},null,512),[[m,o(r).description]])])]),t("div",G,[u(o(k),{href:"/transactions",class:"flex-1 text-center py-2 text-sm text-theme-text-secondary hover:text-theme-text-primary border border-theme-border rounded-md transition-colors"},{default:b(()=>[...e[20]||(e[20]=[D(" Annuler ",-1)])]),_:1}),t("button",{type:"submit",disabled:o(r).processing,class:"flex-1 py-2 bg-theme-btn-primary-bg text-theme-btn-primary-text text-sm font-medium rounded-md hover:opacity-90 transition-colors disabled:opacity-50"}," Enregistrer ",8,H)])],32)])]),_:1})],64))}};export{P as default};
