import{o as n,c as d,d as e,u as h,a as y,b as r,h as P,w as q,n as A,t as i,m,e as k,f as u,v as p,i as _,F as N,p as C,E as U}from"./app-CxHVsOWm.js";import{_ as B}from"./AppLayout-CNrvdNlY.js";function D(f,l){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const E={class:"max-w-2xl mx-auto space-y-6"},$={class:"flex items-center gap-2"},z={class:"bg-theme-card border border-theme-border rounded-lg p-6"},G={class:"flex items-center gap-6"},T={class:"relative"},L={key:1,class:"w-20 h-20 rounded-full bg-theme-surface border-2 border-theme-border flex items-center justify-center"},O={class:"text-2xl font-semibold text-theme-text-secondary"},R={class:"flex flex-col gap-2"},Z={class:"space-y-4"},J={key:0,class:"text-xs text-danger mt-1"},H={key:0,class:"text-xs text-danger mt-1"},K={key:0,class:"text-xs text-danger mt-1"},Q={class:"mt-6 flex justify-end"},W=["disabled"],X={class:"space-y-4"},Y={key:0,class:"text-xs text-danger mt-1"},ee={key:0,class:"text-xs text-danger mt-1"},te={class:"mt-6 flex justify-end"},re=["disabled"],se={class:"bg-theme-card border border-theme-border rounded-lg p-6"},oe={class:"flex gap-4"},de={__name:"Edit",props:{user:{type:Object,required:!0}},setup(f){const l=f,o=h({name:l.user.name,email:l.user.email,phone:l.user.phone||""}),j=()=>{o.put("/profile")},a=h({current_password:"",password:"",password_confirmation:""}),F=()=>{a.put("/profile/password",{onSuccess:()=>{a.reset()}})},g=U(null),c=U(null),M=()=>{g.value.click()},V=b=>{const t=b.target.files[0];if(t){c.value=URL.createObjectURL(t);const s=new FormData;s.append("avatar",t),C.post("/profile/avatar",s,{forceFormData:!0})}},I=()=>{confirm("Supprimer la photo de profil ?")&&(C.delete("/profile/avatar"),c.value=null)},x=h({theme:l.user.theme||"dark"}),v=()=>{x.put("/profile/theme")},w=()=>c.value?c.value:l.user.avatar?`/storage/${l.user.avatar}`:null,S=()=>l.user.name.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2);return(b,t)=>(n(),d(N,null,[y(r(P),{title:"Profil"}),y(B,null,{default:q(()=>[e("div",E,[e("div",$,[y(r(D),{class:"w-5 h-5 text-theme-text-secondary"}),t[8]||(t[8]=e("h1",{class:"text-lg font-semibold text-theme-text-primary"},"Mon profil",-1))]),e("div",z,[t[9]||(t[9]=e("h2",{class:"text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-4"},"Photo de profil",-1)),e("div",G,[e("div",T,[w()?(n(),d("div",{key:0,class:"w-20 h-20 rounded-full bg-cover bg-center border-2 border-theme-border",style:A({backgroundImage:`url(${w()})`})},null,4)):(n(),d("div",L,[e("span",O,i(S()),1)]))]),e("div",R,[e("input",{ref_key:"avatarInput",ref:g,type:"file",accept:"image/*",class:"hidden",onChange:V},null,544),e("button",{type:"button",onClick:M,class:"px-4 py-2 bg-theme-btn-primary-bg text-theme-btn-primary-text text-sm font-medium rounded-md hover:opacity-90 transition-colors"}," Changer la photo "),f.user.avatar?(n(),d("button",{key:0,type:"button",onClick:I,class:"px-4 py-2 text-sm text-theme-text-secondary hover:text-danger border border-theme-border rounded-md transition-colors"}," Supprimer ")):m("",!0)])]),t[10]||(t[10]=e("p",{class:"text-xs text-theme-text-muted mt-3"},"JPG, PNG ou GIF. Max 2MB.",-1))]),e("form",{onSubmit:k(j,["prevent"]),class:"bg-theme-card border border-theme-border rounded-lg p-6"},[t[14]||(t[14]=e("h2",{class:"text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-4"},"Informations personnelles",-1)),e("div",Z,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Nom",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r(o).name=s),type:"text",required:"",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[p,r(o).name]]),r(o).errors.name?(n(),d("p",J,i(r(o).errors.name),1)):m("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Email",-1)),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>r(o).email=s),type:"email",required:"",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[p,r(o).email]]),r(o).errors.email?(n(),d("p",H,i(r(o).errors.email),1)):m("",!0)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Téléphone",-1)),u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>r(o).phone=s),type:"tel",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary placeholder-theme-text-muted focus:border-theme-text-primary focus:ring-0 outline-none",placeholder:"+241 77 12 34 56"},null,512),[[p,r(o).phone]]),r(o).errors.phone?(n(),d("p",K,i(r(o).errors.phone),1)):m("",!0)])]),e("div",Q,[e("button",{type:"submit",disabled:r(o).processing,class:"px-4 py-2 bg-theme-btn-primary-bg text-theme-btn-primary-text text-sm font-medium rounded-md hover:opacity-90 transition-colors disabled:opacity-50"}," Enregistrer ",8,W)])],32),e("form",{onSubmit:k(F,["prevent"]),class:"bg-theme-card border border-theme-border rounded-lg p-6"},[t[18]||(t[18]=e("h2",{class:"text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-4"},"Mot de passe",-1)),e("div",X,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Mot de passe actuel",-1)),u(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>r(a).current_password=s),type:"password",required:"",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[p,r(a).current_password]]),r(a).errors.current_password?(n(),d("p",Y,i(r(a).errors.current_password),1)):m("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Nouveau mot de passe",-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r(a).password=s),type:"password",required:"",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[p,r(a).password]]),r(a).errors.password?(n(),d("p",ee,i(r(a).errors.password),1)):m("",!0)]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Confirmer le mot de passe",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>r(a).password_confirmation=s),type:"password",required:"",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[p,r(a).password_confirmation]])])]),e("div",te,[e("button",{type:"submit",disabled:r(a).processing,class:"px-4 py-2 bg-theme-btn-primary-bg text-theme-btn-primary-text text-sm font-medium rounded-md hover:opacity-90 transition-colors disabled:opacity-50"}," Changer le mot de passe ",8,re)])],32),e("div",se,[t[21]||(t[21]=e("h2",{class:"text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-4"},"Apparence",-1)),e("div",oe,[e("button",{type:"button",onClick:t[6]||(t[6]=s=>{r(x).theme="dark",v()}),class:_(["flex-1 p-4 rounded-lg border-2 transition-all",r(x).theme==="dark"?"border-theme-btn-primary-bg":"border-theme-border hover:border-theme-text-secondary"])},[...t[19]||(t[19]=[e("div",{class:"w-full h-20 rounded bg-black border border-zinc-800 mb-3 flex items-center justify-center"},[e("div",{class:"w-8 h-1 bg-white rounded"})],-1),e("p",{class:"text-sm font-medium text-theme-text-primary"},"Sombre",-1),e("p",{class:"text-xs text-theme-text-muted"},"Interface sombre",-1)])],2),e("button",{type:"button",onClick:t[7]||(t[7]=s=>{r(x).theme="light",v()}),class:_(["flex-1 p-4 rounded-lg border-2 transition-all",r(x).theme==="light"?"border-theme-btn-primary-bg":"border-theme-border hover:border-theme-text-secondary"])},[...t[20]||(t[20]=[e("div",{class:"w-full h-20 rounded bg-white border border-gray-200 mb-3 flex items-center justify-center"},[e("div",{class:"w-8 h-1 bg-black rounded"})],-1),e("p",{class:"text-sm font-medium text-theme-text-primary"},"Clair",-1),e("p",{class:"text-xs text-theme-text-muted"},"Interface claire",-1)])],2)])])])]),_:1})],64))}};export{de as default};
