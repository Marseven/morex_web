import{o as d,c as i,d as t,u as L,a,b as o,h as S,w as p,l as b,k as f,t as n,F as _,r as C,n as F,f as B,v as N,m as j,p as D,E as O}from"./app-CxHVsOWm.js";import{d as V,_ as Z}from"./AppLayout-CNrvdNlY.js";import{r as E}from"./BanknotesIcon-Bgp8oBXT.js";function R(l,x){return d(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function G(l,x){return d(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function I(l,x){return d(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})])}const P={class:"space-y-6"},T={class:"flex items-center justify-between"},z={class:"flex items-center gap-2"},U={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},q={class:"bg-theme-card border border-theme-border rounded-lg p-4"},H={class:"flex items-center gap-2 mb-2"},J={class:"text-xl font-semibold text-theme-text-primary"},K={class:"bg-theme-card border border-theme-border rounded-lg p-4"},Q={class:"flex items-center gap-2 mb-2"},W={class:"text-xl font-semibold text-success"},X={class:"bg-theme-card border border-theme-border rounded-lg p-4"},Y={class:"flex items-center gap-2 mb-2"},tt={class:"text-xl font-semibold text-theme-text-primary"},et={class:"bg-theme-card border border-theme-border rounded-lg p-4"},st={class:"flex items-center gap-2 mb-2"},rt={class:"text-xl font-semibold text-success"},ot={class:"bg-theme-card border border-theme-border rounded-lg"},nt={key:0,class:"px-4 py-12 text-center"},dt={key:1,class:"divide-y divide-theme-border"},it={class:"flex items-start justify-between mb-3"},at={class:"flex items-center gap-3"},lt={class:"text-sm font-medium text-theme-text-primary"},ct={class:"text-xs text-theme-text-muted"},mt={class:"flex items-center gap-2"},ut=["onClick"],xt=["onClick"],ht={key:0,class:"mb-3 flex gap-2"},pt=["onClick","disabled"],bt={class:"flex items-center justify-between text-xs mb-2"},ft={class:"text-theme-text-secondary"},_t={class:"text-theme-text-muted"},vt={class:"w-full h-2 bg-theme-surface rounded-full overflow-hidden"},yt={class:"flex items-center justify-between text-xs text-theme-text-muted mt-2"},gt={key:0},wt={key:1},kt={key:0},Ct={class:"bg-theme-card border border-theme-border rounded-lg"},Ft={class:"w-full"},jt={class:"divide-y divide-theme-border"},$t={class:"px-4 py-3"},At={class:"flex items-center gap-3"},Mt={class:"text-sm text-theme-text-primary"},Lt={class:"text-xs text-theme-text-muted"},St={class:"px-4 py-3 text-right"},Bt={class:"text-sm font-medium text-success"},Nt={class:"px-4 py-3 text-right"},Dt=["onClick"],Et={__name:"Index",props:{goals:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})}},setup(l){const x=l,c=s=>new Intl.NumberFormat("fr-FR").format(s||0),$=s=>s?new Date(s).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"—",v=s=>!s.target_amount||s.target_amount===0?0:Math.min(100,s.current_amount/s.target_amount*100),y=s=>{confirm("Supprimer cet objectif ?")&&D.delete(`/goals/${s.id}`)},h=O(null),m=L({amount:""}),A=s=>{h.value=s.id,m.amount=""},M=s=>{m.post(`/goals/${s.id}/contribute`,{onSuccess:()=>{h.value=null}})},g=x.goals.filter(s=>s.status==="active"),w=x.goals.filter(s=>s.status==="completed"),k=s=>({savings:"Épargne",debt:"Remboursement",investment:"Investissement",custom:"Personnalisé"})[s]||s;return(s,e)=>(d(),i(_,null,[a(o(S),{title:"Objectifs"}),a(Z,null,{default:p(()=>[t("div",P,[t("div",T,[t("div",z,[a(o(V),{class:"w-5 h-5 text-theme-text-secondary"}),e[2]||(e[2]=t("h1",{class:"text-lg font-semibold text-theme-text-primary"},"Objectifs",-1))]),a(o(b),{href:"/goals/create",class:"px-3 py-1.5 bg-theme-btn-primary-bg text-theme-btn-primary-text text-sm font-medium rounded-md hover:opacity-90 transition-colors"},{default:p(()=>[...e[3]||(e[3]=[f(" + Nouvel objectif ",-1)])]),_:1})]),t("div",U,[t("div",q,[t("div",H,[a(o(E),{class:"w-4 h-4 text-theme-text-secondary"}),e[4]||(e[4]=t("p",{class:"text-xs text-theme-text-secondary uppercase tracking-wider"},"Objectif total",-1))]),t("p",J,n(c(l.stats.total_target)),1),e[5]||(e[5]=t("p",{class:"text-xs text-theme-text-muted"},"FCFA",-1))]),t("div",K,[t("div",Q,[a(o(I),{class:"w-4 h-4 text-success"}),e[6]||(e[6]=t("p",{class:"text-xs text-theme-text-secondary uppercase tracking-wider"},"Épargne actuelle",-1))]),t("p",W,n(c(l.stats.total_current)),1),e[7]||(e[7]=t("p",{class:"text-xs text-theme-text-muted"},"FCFA",-1))]),t("div",X,[t("div",Y,[a(o(G),{class:"w-4 h-4 text-theme-text-secondary"}),e[8]||(e[8]=t("p",{class:"text-xs text-theme-text-secondary uppercase tracking-wider"},"En cours",-1))]),t("p",tt,n(l.stats.active_count||0),1),e[9]||(e[9]=t("p",{class:"text-xs text-theme-text-muted"},"objectif(s)",-1))]),t("div",et,[t("div",st,[a(o(R),{class:"w-4 h-4 text-success"}),e[10]||(e[10]=t("p",{class:"text-xs text-theme-text-secondary uppercase tracking-wider"},"Complétés",-1))]),t("p",rt,n(l.stats.completed_count||0),1),e[11]||(e[11]=t("p",{class:"text-xs text-theme-text-muted"},"objectif(s)",-1))])]),t("div",null,[e[15]||(e[15]=t("h2",{class:"text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-3"},"En cours",-1)),t("div",ot,[o(g).length===0?(d(),i("div",nt,[e[13]||(e[13]=t("p",{class:"text-sm text-theme-text-secondary mb-4"},"Aucun objectif en cours",-1)),a(o(b),{href:"/goals/create",class:"text-sm text-theme-text-primary hover:underline"},{default:p(()=>[...e[12]||(e[12]=[f(" Créer un objectif ",-1)])]),_:1})])):(d(),i("div",dt,[(d(!0),i(_,null,C(o(g),r=>(d(),i("div",{key:r.id,class:"p-4"},[t("div",it,[t("div",at,[t("div",{class:"w-2 h-2 rounded-full",style:F({backgroundColor:r.color||"#FFFFFF"})},null,4),t("div",null,[t("p",lt,n(r.name),1),t("p",ct,n(k(r.type)),1)])]),t("div",mt,[t("button",{onClick:u=>A(r),class:"px-2 py-1 text-xs bg-theme-surface border border-theme-border rounded hover:border-white transition-colors"}," + Ajouter ",8,ut),a(o(b),{href:`/goals/${r.id}/edit`,class:"text-xs text-theme-text-secondary hover:text-theme-text-primary"},{default:p(()=>[...e[14]||(e[14]=[f(" Modifier ",-1)])]),_:1},8,["href"]),t("button",{onClick:u=>y(r),class:"text-xs text-theme-text-secondary hover:text-danger"}," Supprimer ",8,xt)])]),h.value===r.id?(d(),i("div",ht,[B(t("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>o(m).amount=u),type:"number",min:"1",placeholder:"Montant",class:"flex-1 bg-theme-surface border border-theme-border rounded-md px-3 py-1.5 text-sm text-theme-text-primary focus:border-white focus:ring-0 outline-none"},null,512),[[N,o(m).amount,void 0,{number:!0}]]),t("button",{onClick:u=>M(r),disabled:o(m).processing||!o(m).amount,class:"px-3 py-1.5 bg-theme-btn-primary-bg text-theme-btn-primary-text text-sm font-medium rounded-md hover:opacity-90 transition-colors disabled:opacity-50"}," Ajouter ",8,pt),t("button",{onClick:e[1]||(e[1]=u=>h.value=null),class:"px-3 py-1.5 text-sm text-theme-text-secondary hover:text-theme-text-primary border border-theme-border rounded-md transition-colors"}," Annuler ")])):j("",!0),t("div",bt,[t("span",ft,n(c(r.current_amount))+" / "+n(c(r.target_amount))+" FCFA ",1),t("span",_t,n(Math.round(v(r)))+"%",1)]),t("div",vt,[t("div",{class:"h-full bg-theme-btn-primary-bg rounded-full transition-all",style:F({width:`${v(r)}%`})},null,4)]),t("div",yt,[r.target_date?(d(),i("span",gt,"Échéance : "+n($(r.target_date)),1)):(d(),i("span",wt,"Pas d'échéance")),t("span",null,"Reste "+n(c(r.target_amount-r.current_amount))+" FCFA",1)])]))),128))]))])]),o(w).length>0?(d(),i("div",kt,[e[18]||(e[18]=t("h2",{class:"text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-3"},"Complétés",-1)),t("div",Ct,[t("table",Ft,[e[17]||(e[17]=t("thead",null,[t("tr",{class:"border-b border-theme-border"},[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-theme-text-secondary uppercase tracking-wider"},"Objectif"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-theme-text-secondary uppercase tracking-wider"},"Montant"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-theme-text-secondary uppercase tracking-wider"},"Actions")])],-1)),t("tbody",jt,[(d(!0),i(_,null,C(o(w),r=>(d(),i("tr",{key:r.id,class:"hover:bg-theme-surface transition-colors"},[t("td",$t,[t("div",At,[e[16]||(e[16]=t("div",{class:"w-2 h-2 rounded-full bg-success"},null,-1)),t("div",null,[t("p",Mt,n(r.name),1),t("p",Lt,n(k(r.type)),1)])])]),t("td",St,[t("span",Bt,n(c(r.target_amount))+" FCFA",1)]),t("td",Nt,[t("button",{onClick:u=>y(r),class:"text-xs text-theme-text-secondary hover:text-danger"}," Supprimer ",8,Dt)])]))),128))])])])])):j("",!0)])]),_:1})],64))}};export{Et as default};
