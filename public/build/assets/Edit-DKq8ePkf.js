import{u as k,o as i,c as m,a,b as r,h as w,w as u,d as e,l as c,t as b,e as F,i as p,f as s,F as x,r as y,g as _,v as l,n as C,k as V}from"./app-BtzvA-UR.js";import{_ as M}from"./AppLayout-7DTErr4F.js";const B={class:"max-w-xl mx-auto"},U={class:"flex items-center gap-4 mb-6"},E={class:"text-lg font-semibold text-theme-text-primary"},A={class:"flex gap-1 p-1 bg-theme-card border border-theme-border rounded-md"},D={class:"bg-theme-card border border-theme-border rounded-lg p-4 space-y-4"},N=["value"],S={class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},$={class:"flex gap-2"},q=["onClick"],T={class:"flex gap-3"},z=["disabled"],P={__name:"Edit",props:{debt:{type:Object,required:!0}},setup(f){const d=f,o=k({name:d.debt.name,type:d.debt.type,initial_amount:d.debt.initial_amount,current_amount:d.debt.current_amount,due_date:d.debt.due_date?d.debt.due_date.split("T")[0]:"",description:d.debt.description||"",contact_name:d.debt.contact_name||"",contact_phone:d.debt.contact_phone||"",status:d.debt.status,color:d.debt.color||"#EF4444"}),h=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899","#71717A","#FFFFFF"],g=[{value:"active",label:"Active"},{value:"paid",label:"Payé"},{value:"cancelled",label:"Annulé"}],v=()=>{o.put(`/debts/${d.debt.id}`)};return(j,t)=>(i(),m(x,null,[a(r(w),{title:r(o).type==="debt"?"Modifier la dette":"Modifier la créance"},null,8,["title"]),a(M,null,{default:u(()=>[e("div",B,[e("div",U,[a(r(c),{href:"/debts",class:"text-theme-text-secondary hover:text-theme-text-primary"},{default:u(()=>[...t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),e("h1",E,b(r(o).type==="debt"?"Modifier la dette":"Modifier la créance"),1)]),e("form",{onSubmit:F(v,["prevent"]),class:"space-y-6"},[e("div",A,[e("button",{type:"button",onClick:t[0]||(t[0]=n=>r(o).type="debt"),class:p(["flex-1 py-2 text-sm rounded transition-colors",r(o).type==="debt"?"bg-theme-btn-primary-bg text-theme-btn-primary-text font-medium":"text-theme-text-secondary"])}," Je dois (Dette) ",2),e("button",{type:"button",onClick:t[1]||(t[1]=n=>r(o).type="credit"),class:p(["flex-1 py-2 text-sm rounded transition-colors",r(o).type==="credit"?"bg-theme-btn-primary-bg text-theme-btn-primary-text font-medium":"text-theme-text-secondary"])}," On me doit (Créance) ",2)]),e("div",D,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Statut",-1)),s(e("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>r(o).status=n),class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},[(i(),m(x,null,y(g,n=>e("option",{key:n.value,value:n.value},b(n.label),9,N)),64))],512),[[_,r(o).status]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Nom",-1)),s(e("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>r(o).name=n),type:"text",required:"",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[l,r(o).name]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Montant initial (FCFA)",-1)),s(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>r(o).initial_amount=n),type:"number",required:"",min:"1",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-3 text-xl font-semibold text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[l,r(o).initial_amount,void 0,{number:!0}]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Montant restant (FCFA)",-1)),s(e("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>r(o).current_amount=n),type:"number",required:"",min:"0",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[l,r(o).current_amount,void 0,{number:!0}]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Date d'échéance",-1)),s(e("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>r(o).due_date=n),type:"date",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[l,r(o).due_date]])]),e("div",null,[e("label",S,b(r(o).type==="debt"?"Créancier":"Débiteur"),1),s(e("input",{"onUpdate:modelValue":t[7]||(t[7]=n=>r(o).contact_name=n),type:"text",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[l,r(o).contact_name]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Téléphone",-1)),s(e("input",{"onUpdate:modelValue":t[8]||(t[8]=n=>r(o).contact_phone=n),type:"tel",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none"},null,512),[[l,r(o).contact_phone]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Note",-1)),s(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=n=>r(o).description=n),rows:"2",class:"w-full bg-theme-surface border border-theme-border rounded-md px-3 py-2 text-sm text-theme-text-primary focus:border-theme-text-primary focus:ring-0 outline-none resize-none"},null,512),[[l,r(o).description]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-xs font-medium text-theme-text-secondary uppercase tracking-wider mb-2"},"Couleur",-1)),e("div",$,[(i(),m(x,null,y(h,n=>e("button",{key:n,type:"button",onClick:O=>r(o).color=n,class:p(["w-7 h-7 rounded-md border-2 transition-all",r(o).color===n?"border-theme-text-primary scale-110":"border-transparent"]),style:C({backgroundColor:n})},null,14,q)),64))])])]),e("div",T,[a(r(c),{href:"/debts",class:"flex-1 text-center py-2 text-sm text-theme-text-secondary hover:text-theme-text-primary border border-theme-border rounded-md transition-colors"},{default:u(()=>[...t[19]||(t[19]=[V("Annuler",-1)])]),_:1}),e("button",{type:"submit",disabled:r(o).processing,class:"flex-1 py-2 bg-theme-btn-primary-bg text-theme-btn-primary-text text-sm font-medium rounded-md hover:opacity-90 transition-colors disabled:opacity-50"},"Enregistrer",8,z)])],32)])]),_:1})],64))}};export{P as default};
